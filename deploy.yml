- name: Install and run Docker container 
   hosts: webservers 
   become: yes 
   tasks: 
   - name: Install Docker 
     apt: 
       update_cache: yes 
       name: docker.io 

   - name: Install docker module 
     pip: 
       name: docker 

   - name: Login to Docker Hub 
     docker_login: 
       username: "{{ dockerhub_username }}" 
       password: "{{ dockerhub_password }}" 

   - name: Pull Docker image 
     docker_image: 
       name: ayushcloudggn/dockerjenkins:latest 
       source: pull 

   - name: Run Docker container 
     docker_container: 
       name: my-container-ansible-deploy 
       image: ayushcloudggn/dockerjenkins:latest 
       state: started 
       ports: 
         - "8000:8000"                
